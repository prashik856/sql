# Variables

## Declaration
The syntax for declaring the variable
```sql
variable_name [CONSTANT] datatype [NOT NULL] [:= | DEFAULT initial_value]
```

Some valid variable declarations along with their definition are shown below 
```sql
sales number(10, 2); 
pi CONSTANT double precision := 3.1415; 
name varchar2(25); 
address varchar2(100);
```

When you provide a size, scale or precision limit with the data type, it is called a constrained decelaration. Constrained declarations require less memory than unconstrained declarations.
Example
```sql
sales number(10, 2); 
name varchar2(25); 
address varchar2(100); 
```

## Initializing
Whenever you declare a variable, PL/SQL assigns it a default value of NULL. If you want to initialize a variable with a value other than the NULL value, you can do so during the declaration, using either of the following

- The DEFAULT keyword
- The assignment operator

Example
```sql
counter binary_integer := 0; 
greetings varchar2(20) DEFAULT 'Have a Good Day';
```

You can also specify that a variable should not have a NULL value using the NOT NULL constraint.
If you use the NOT NULL constraint, you must explicitly assign an initial value for that variable.

```sql
DECLARE 
   a integer := 10; 
   b integer := 20; 
   c integer; 
   f real; 
BEGIN 
   c := a + b; 
   dbms_output.put_line('Value of c: ' || c); 
   f := 70.0/3.0; 
   dbms_output.put_line('Value of f: ' || f); 
END; 
/ 
```

When the above code is executed, it produces the following result −
```
Value of c: 30 
Value of f: 23.333333333333333333  

PL/SQL procedure successfully completed. 
```

## Scope
PL/SQL allows the nesting of blocks, i.e., each program block may contain another inner block.
- Local variables − Variables declared in an inner block and not accessible to outer blocks.
- Global variables − Variables declared in the outermost block or a package.

Following example shows the usage of Local and Global variables in its simple form
```sql
DECLARE 
   -- Global variables  
   num1 number := 95;  
   num2 number := 85;  
BEGIN  
   dbms_output.put_line('Outer Variable num1: ' || num1); 
   dbms_output.put_line('Outer Variable num2: ' || num2); 
   DECLARE  
      -- Local variables 
      num1 number := 195;  
      num2 number := 185;  
   BEGIN  
      dbms_output.put_line('Inner Variable num1: ' || num1); 
      dbms_output.put_line('Inner Variable num2: ' || num2); 
   END;  
END; 
/ 
```

When the above code is executed, it produces the following result −
```
Outer Variable num1: 95 
Outer Variable num2: 85 
Inner Variable num1: 195 
Inner Variable num2: 185  

PL/SQL procedure successfully completed. 
```

## Assigning SQL Query Results to PL/SQL Variables
You can use the SELECT INTO statement of SQL to assign values to PL/SQL variables.
For each item in the SELECT list, there must be a corresponding, type-compatible variable in the INTO list.

Example of using them:
Create table first
```sql
CREATE TABLE CUSTOMERS( 
   ID   INT NOT NULL, 
   NAME VARCHAR (20) NOT NULL, 
   AGE INT NOT NULL, 
   ADDRESS CHAR (25), 
   SALARY   DECIMAL (18, 2),        
   PRIMARY KEY (ID) 
);
```

Let us now insert some values in the table:
```sql
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (1, 'Ramesh', 32, 'Ahmedabad', 2000.00 );  

INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (2, 'Khilan', 25, 'Delhi', 1500.00 );  

INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (3, 'kaushik', 23, 'Kota', 2000.00 );
  
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (4, 'Chaitali', 25, 'Mumbai', 6500.00 ); 
 
INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (5, 'Hardik', 27, 'Bhopal', 8500.00 );  

INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (6, 'Komal', 22, 'MP', 4500.00 ); 
```

The following program assigns values from the above table to PL/SQL variables using the SELECT INTO clause of SQL −
```sql
DECLARE 
   c_id customers.id%type := 1; 
   c_name  customers.name%type; 
   c_addr customers.address%type; 
   c_sal  customers.salary%type; 
BEGIN 
   SELECT name, address, salary INTO c_name, c_addr, c_sal 
   FROM customers 
   WHERE id = c_id;  
   dbms_output.put_line 
   ('Customer ' ||c_name || ' from ' || c_addr || ' earns ' || c_sal); 
END; 
/ 
```

When the above code is executed, it produces the following result −
```
Customer Ramesh from Ahmedabad earns 2000  

PL/SQL procedure completed successfully
```